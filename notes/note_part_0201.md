# 前段工程化

```js
    // 问题
    // 1. ES6 兼容有问题
    // 2. Less/Sass/postCss 提高CSS 变成星， 但是运行环境不能直接支持
    // 3. 使用模块化的方式提高项目可维护性， 但运行环境不能直接支持
    // 4. 部署上线前需要手动压缩代码和资源文件， 部署过程需要手动上传代码到服务器
    // 5. 多人协作开发， 无法硬性同意代码风格，从仓库pull回来的代码质量不能保证
    // 6. 部分功能开发是需要等后端服务接口提前完成

    // 主要解决的问题
    // 1. 传统语言或语法的弊端
    // 2. 无法直接使用模块化/组件化
    // 3. 大量，重复的机械化工作
    // 4. 代码风格统一， 质量保证
    // 5. 依赖后端接口支持
    // 6. 整体依赖后端项目
```

```js
    // 前段工程化
    // 一切以提高效率， 降低成本， 质量保证为目的的手段都属于工程化
    // 一切重复的工作都应该被工程化
    // 1.创建项目 --> 2.编码 --> 3.预览、测试 --> 4.提交 --> 5.部署
    // 1. 创建项目   --> 创建项目结构， 创建特定类型文件
    // 2. 编码       --> 格式化代码， 校验代码风格， 编译、构建、打包
    // 3. 预览、测试  --> Web Server/Mock , Live Reloading/HMR ， SourceMap
    // 4. 提交       --> Git Hooks , Lint-stage , 持续集成
    // 5. 部署       --> CI/CD , 自动发布
``` 

```js
    // 工程化 不等于 工具
    // 工具不是工程化的核心
    // 工程化是对项目整体的规划和架构， 工具是帮助把这种规划和架构落地的手段

    // 一些成熟的工程化集成
    // 1. create-react-app
    // 2. vue-cli
    // 3. angular-cli
    // 4. gatsby-cli
```

```js
    // 前段工程化由node驱动
    // 1.脚手架工具开发
    // 2.自动化构建系统
    // 3.模块化打包
    // 4.项目代码规范化
    // 5.自动化部署
```

## 1.脚手架工具开发

```js
    // 前段脚手架
    // 1. 脚手架的作用
    // 2. 常用脚手架工具
    // 3. 通用脚手架工具剖析
    // 4. 开发一款脚手架
```

### (1)脚手架的作用

```js
    // 脚手架 
    // 本质作用: 创建项目基础结构, 提供项目规范和约定
    // 相同的组织结构
    // 相同的开发范式
    // 相同的模块依赖
    // 相同的工具配置
    // 相同的基础代码

    // 示例: IDE 创建项目的过程就是一个脚手架的工作流程
```

### (2)常用的脚手架工具

```js
    // 1. 特定项目类型脚手架
    // React-app : create-react-app
    // vue.js : vue-cli
    // angular : angular-cli
    // 根据提供的信息创建对应的项目基础结构(文件及相关配置)

    // 2. Yeoman 为代表的通用脚手架工具
    // 根据一套模板生成一个对应的项目结构
    // 灵活, 易扩展

    // 3. Plop
    // 用来在项目开发过程中, 创建一些特定类型的文件, 例如创建一个组件/模块所需要的文件
```

### (3)通用脚手架工具剖析

#### a. Yeoman

```js
    // 更像是一个脚手架的运行平台
    // 优点:
    // 可以通过 yeoman 搭配不同的 generator 去创建任何类型的项目
    // 可以通过创建自己的 generator 去创建 自己的 yeoman 脚手架
    // 缺点:
    // 过于通用, 不够专注
```

```js
    // Yeoman 基本使用
    // 1. 安装 yeoman: yarn global add yo
    // 2. 找到对应项目类型的 generator: yarn global add generator-node
    // 3. 安装 generator : yo node
```

```js
    // Yeoman Sub Generator
    // 生成部分generator
    // 1. yo node:cli -> 生成一些 cli 命令需要的配置文件
    // 2. 可以将模块作为全局的命令行进行使用
    // 3. 本地模块使用 yarn link 链接到全局范围
    // 4. 通过模块名称运行 加进来的命令
    // 5. fed-e-task-02-01 --help
    // 6. 如果不成功 先给权限 sudo chmod -R 777 fed-e-task-02-01
    // 7. yarn 导入 文件
    // 8. 再执行

    // 并不是每一个 Generator 都提供了 子集的生成器, 需要通过官方文档进行明确
```

```js
    // 常规使用步骤
    // 1. 明确自己的需求
    // 2. 根据需求找到合适的 Generator
    // 3. 全局范围安装找到的 Generator
    // 4. 通过 yo 命令 运行对应的 Generator
    // 5. 通过命令行交互填写 选项
    // 6. 生成你所需要的项目结构
```

### (4)开发一款脚手架

基于 Yeoman 搭建自己的脚手架

```js
    // 自定义 Generator
    // 
```

## 2.自动化构建系统

```js

```

## 3.模块化打包

```js

```

## 4.项目代码规范化

```js

```

## 自动化部署

```js

```